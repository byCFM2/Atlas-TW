--Delete later, coz dont need afer rework all DB
local L = AtlasTW.Local
local BC = AceLibrary("Babble-Class-2.2")
local BZ = AceLibrary("Babble-Zone-2.2a")
local BS = AceLibrary("Babble-Spell-2.2a")
local BB = AceLibrary("Babble-Boss-2.2a")
local BF = AceLibrary("Babble-Faction-2.2a")
local BIS = AceLibrary("Babble-ItemSet-2.2a")

local replacements = {
    -- Armour class
    a1 = BS["Cloth"],
    a2 = BS["Leather"],
    a3 = BS["Mail"],
    a4 = BS["Plate"],
    -- Body slot
    s1 = L["Head"],
    s2 = L["Neck"],
    s3 = L["Shoulder"],
    s4 = L["Back"],
    s5 = L["Chest"],
    s6 = L["Shirt"],
    s7 = L["Tabard"],
    s8 = L["Wrist"],
    s9 = L["Hands"],
    s10 = L["Waist"],
    s11 = L["Legs"],
    s12 = L["Feet"],
    s13 = L["Ring"],
    s14 = L["Trinket"],
    s15 = L["Held In Off-hand"],
    s16 = L["Relic"],
    -- Weapon Weilding
    h1 = L["One-Hand"],
    h2 = L["Two-Hand"],
    h3 = L["Main Hand"],
    h4 = L["Off Hand"],
    -- Weapon type
    w1 = L["Axe"],
    w2 = L["Bow"],
    w3 = L["Crossbow"],
    w4 = L["Dagger"],
    w5 = L["Gun"],
    w6 = L["Mace"],
    w7 = L["Polearm"],
    w8 = L["Shield"],
    w9 = L["Staff"],
    w10 = L["Sword"],
    w11 = L["Thrown"],
    w12 = L["Wand"],
    w13 = L["Fist Weapon"],
    w14 = L["Fishing Pole"],
    -- Misc. Equipment
    e1 = L["Potion"],
    e2 = L["Food"],
    e3 = L["Drink"],
    e4 = L["Bandage"],
    e5 = L["Arrow"],
    e6 = L["Bullet"],
    e7 = L["Mount"],
    e8 = L["Ammo Pouch"],
    e9 = L["Quiver"],
    e10 = L["Slot"],
    e11 = L["Enchant"],
    e12 = L["Trade Goods"],
    e13 = L["Scope"],
    e14 = L["Key"],
    e15 = L["Pet"],
    e16 = L["Idol"],
    e17 = L["Totem"],
    e18 = L["Libram"],
    e19 = L["Darkmoon Faire Card"],
    e20 = L["Book"],
    e21 = L["Banner"],
    e22 = L["Needed to purchase rewards"],
    e23 = L["random stats"],
    e24 = L["random resistance"],
    e25 = L["random color"],
    e27 = L["Token"],
    e28 = L["Toy"],
    -- Classes
    c1 = BC["Druid"],
    c2 = BC["Hunter"],
    c3 = BC["Mage"],
    c4 = BC["Paladin"],
    c5 = BC["Priest"],
    c6 = BC["Rogue"],
    c7 = BC["Shaman"],
    c8 = BC["Warlock"],
    c9 = BC["Warrior"],
    --Skill
    sk1 = L["Apprentice"],
    sk2 = L["Journeyman"],
    sk3 = L["Expert"],
    sk4 = L["Artisan"],
    --Professions
    p1 = BS["Alchemy"],
    p2 = BS["Blacksmithing"],
    p3 = BS["Cooking"],
    p4 = BS["Enchanting"],
    p5 = BS["Engineering"],
    p6 = BS["First Aid"],
    p7 = BS["Leatherworking"],
    p8 = BS["Tailoring"],
    p9 = L["Dragonscale"],
    p10 = L["Tribal"],
    p11 = L["Elemental"],
    p13 = BS["Lockpicking"],
    p14 = L["Gnomish Engineering"],
    p15 = L["Goblin Engineering"],
    p16 = BS["Skinning"],
    p17 = L["LW"],
    p18 = BS["Survival"],
    p19 = BS["Gardening"],
    p20 = BS["Jewelcrafting"],
    --Reputation
    r1 = BF["Neutral"],
    r2 = BF["Friendly"],
    r3 = BF["Honored"],
    r4 = BF["Revered"],
    r5 = BF["Exalted"],
    --Battleground Factions
    b1 = BF["Stormpike Guard"],
    b2 = BF["Frostwolf Clan"],
    b3 = BF["Silverwing Sentinels"],
    b4 = BF["Warsong Outriders"],
    b5 = BF["The League of Arathor"],
    b6 = BF["The Defilers"],
    --BRDArena
    brd1 = BB["Anub'shiah"],
    brd2 = BB["Eviscerator"],
    brd3 = BB["Gorosh the Dervish"],
    brd4 = BB["Hedrum the Creeper"],
    brd5 = BB["Ok'thor the Breaker"],
    --Sunken Temple Mini Bosses
    st1 = BB["Gasher"],
    st2 = BB["Hukku"],
    st3 = BB["Loro"],
    st4 = BB["Mijan"],
    st5 = BB["Zolo"],
    st6 = BB["Zul'Lor"],
    -- Misc phrases and mod specific stuff
    m1 = L["Classes"],
    m2 = L["This Item Begins a Quest"],
    m3 = L["Quest Item"],
    m4 = L["Quest Reward"],
    m5 = L["Shared"],
    m6 = BF["Horde"],
    m7 = BF["Alliance"],
    m8 = L["Unique"],
    m9 = L["Right Half"],
    m10 = L["Left Half"],
    m11 = L["28 Slot Bag"],
    m12 = L["18 Slot Bag"],
    m13 = L["10 Slot Bag"],
    m14 = "(300)",
    m15 = "(295)",
    m16 = "(275)",
    m17 = "(265)",
    m18 = "(290)",
    m19 = L["Set"],
    m20 = "(285)",
    m21 = L["16 Slot"],
    m22 = L["Schematic: Field Repair Bot 74A"],
    m23 = L["Container"],
    m24 = L["Blacksmithing Plans"],
    m25 = L["Consumable"],
    m26 = "(185)",
    m27 = "(160)",
    m28 = "(125)",
    m29 = "(200)",
    m30 = "(1)",
    m31 = L["Reagent"],
    m32 = L["Binds when picked up"],
    m33 = L["Misc"],
    m34 = L["Use to purchase rewards"],
    m35 = L["Fireworks"],
    m36 = L["Used to summon boss"],
    m37 = L["24 Slot"],
    m38 = L["Coin"],
    m39 = L["Bijou"],
    m40 = L["Doll"],
    m41 = "(250)",
    m42 = L["Bag"],
    m43 = L["pickpocketed"],
    m44 = L["vendor"],
    m45 = L["Lunar Festival Fireworks Pack"],
    m46 = L["Gently Shaken Gift"],
    m47 = L["Lucky Red Envelope"],
    m48 = L["Smokywood Pastures Special Gift"],
    m49 = L["Festive Gift"],
    m50 = L["Gaily Wrapped Present"],
    m51 = L["Smokywood Pastures"],
    -- Random names
    x1 = BB["Lord Cobrahn"],
    x2 = BB["Lady Anacondra"],
    x3 = BB["Lord Serpentis"],
    x4 = L["Druid of the Fang"],
    x5 = BB["Lord Pythas"],
    x6 = BB["Edwin VanCleef"],
    x7 = BB["Captain Greenskin"],
    x8 = L["Defias Strip Miner"],
    x9 = L["Overseer Taskmaster"],
    x10 = L["Primal Hakkari Kossack"],
    x11 = L["Primal Hakkari Shawl"],
    x12 = L["Primal Hakkari Bindings"],
    x13 = L["Primal Hakkari Sash"],
    x14 = L["Primal Hakkari Stanchion"],
    x15 = L["Primal Hakkari Aegis"],
    x16 = L["Primal Hakkari Girdle"],
    x17 = L["Primal Hakkari Armsplint"],
    x18 = L["Primal Hakkari Tabard"],
    x19 = L["Qiraji Ornate Hilt"],
    x20 = L["Qiraji Martial Drape"],
    x21 = L["Qiraji Magisterial Ring"],
    x22 = L["Qiraji Ceremonial Ring"],
    x23 = L["Qiraji Regal Drape"],
    x24 = L["Qiraji Spiked Hilt"],
    x25 = L["Qiraji Bindings of Dominance"],
    x26 = L["Vek'nilash's Circlet"],
    x27 = L["Ouro's Intact Hide"],
    x28 = L["Husk of the Old God"],
    x29 = L["Qiraji Bindings of Command"],
    x30 = L["Vek'lor's Diadem"],
    x31 = L["Skin of the Great Sandworm"],
    x32 = L["Carapace of the Old God"],
    x33 = L["Defender"],
    x34 = L["Trash Mobs"],
    x35 = L["Champion"],
    x36 = L["Centurion"],
    x37 = BB["Herod"],
    x38 = L["Protector"],
    x39 = L["Myrmidon"],
    x40 = L["Defias Pirate"],
    x41 = L["Prisoner/Insurgent/Convict"],
    x42 = L["Princess Tempestria"],
    x43 = L["Crimson Hammersmith"],
    x44 = L["Shadowforge Flame Keeper"],
    x45 = L["Anvilrage Marshal"],
    x46 = L["Anvilrage Captain"],
    x47 = L["Weapon Technician"],
    x48 = L["Doomforge Craftsman"],
    x49 = L["Doomforge Arcanasmith"],
    x50 = L["Hammered Patron"],
    x51 = L["Scarshield Warlock"],
    x52 = L["Firebrand Pyromancer"],
    x53 = L["Firebrand Grunt"],
    x54 = L["Firebrand Invoker"],
    x55 = L["Firebrand Legionnaire"],
    x56 = L["Spirestone Mystic"],
    x57 = L["Spirestone Warlord"],
    x58 = L["Spire Spider/Spiderling"],
    x59 = L["Blackhand Elite"],
    x60 = L["Blackhand Assassin"],
    x61 = L["Death Talon Wyrmguard"],
    x62 = L["Dark Iron Agent"],
    x63 = L["Molten Destroyer"],
    x64 = L["Scarlet Trainee"],
    x65 = BB["Scarlet Commander Mograine"],
    x66 = L["Guardsman"],
    x67 = L["Plagued Hatchling"],
    x68 = L["Scholomance Adept"],
    x69 = L["Scholomance Dark Summoner"],
    x70 = L["Spectral Researcher"],
    x71 = L["Twilight Corrupter"],
    x72 = L["Thuzadin Shadowcaster"],
    x73 = L["Crimson Sorcerer"],
    x74 = L["Crimson Battle Mage"],
    x75 = L["Spectral Citizen"],
    x76 = L["Ghoul Ravener"],
    x77 = L["Crimson Inquisitor"],
    x78 = L["Atal'ai Witch Doctor"],
    x79 = L["Murk Worm"],
    x80 = L["Crimson Templar"],
    x81 = L["Azure Templar"],
    x82 = L["Earthen Templar"],
    x83 = L["Hoary Templar"],
    x84 = L["The Duke of Zephyrs"],
    x85 = L["The Duke of Shards"],
    x86 = L["The Duke of Cynders"],
    x87 = L["The Duke of Fathoms"],
    x88 = L["High Marshal Whirlaxis"],
    x89 = L["Baron Kazum"],
    x90 = L["Prince Skaldrenox"],
    x91 = L["Lord Skwol"],
    x92 = BB["Baron Charr"],
    x93 = BB["Avalanchion"],
    x94 = BB["Plugger Spazzring"],
    x95 = BB["Ribbly Screwspigot"],
    x96 = L["Lokhtos Darkbargainer"],
    x97 = BB["Phalanx"],
    x98 = BB["Hurley Blackbreath"],
    x99 = BB["Isalien"],
    x100 = BB["Lord Valthalak"],
    x101 = BB["Sothos"],
    x102 = BB["Jarien"],
    x103 = BB["Mor Grayhoof"],
    x104 = BB["Kormok"],
    x105 = BB["Marshal Magnus Greystone"],
    x106 = BB["Genn Greymane"],
    x107 = BB["High Foreman Bargul Blackhammer"],
    -- Misc
    j1 = L["Tier 0.5"],
    j2 = L["Tier 0.5 Summonable"],
    j3 = L["Fire Resistance Gear"],
    j4 = L["Arcane Resistance Gear"],
    j5 = L["Nature Resistance Gear"],
    j6 = L["Master Angler"],
    j7 = L["First Prize"],
    j8 = L["Rare Fish Rewards"],
    j9 = L["Rare Fish"],
    j10 = L["Fire"],
    j11 = L["Water"],
    j12 = L["Earth"],
    j13 = L["Air"],
    j14 = L["Collector's Edition"],
    j15 = L["Arena Spoils"],
    j16 = L["Graveyard"],
    j17 = L["Relic Coffer"],
    j18 = L["Dark Keeper"],
    -- Blacksmithing Crafted Sets
    craftbp1 = BIS["Imperial Plate"],
    craftbp2 = BIS["The Darksoul"],
    craftbm1 = BIS["Bloodsoul Embrace"],
    craftbm2 = BIS["Towerforge Battlegear"],
    craftbm3 = BIS["Hateforge Armor"],
    craftbp3 = BIS["Steel Plate"],
    craftbp4 = BIS["Dreamsteel Armor"],
    craftbp5 = BIS["Rune-Etched Armor"],
    -- Tailoring Crafted Sets
    craftt1 = BIS["Augerer's Attire"],
    craftt2 = BIS["Shadoweave"],
    craftt3 = BIS["Diviner's Garments"],
    craftt4 = BIS["Pillager's Garb"],
    craftt7 = BIS["Mooncloth Regalia"],
    craftt5 = BIS["Bloodvine Garb"],
    craftt8 = BIS["Flarecore Regalia"],
    craftt6 = BIS["Dreamthread Regalia"],
    -- Leatherworking Crafted Sets
    craftlwl1 = BIS["Volcanic Armor"],
    craftlwl2 = BIS["Ironfeather Armor"],
    craftlwl3 = BIS["Stormshroud Armor"],
    craftlwl4 = BIS["Devilsaur Armor"],
    craftlwl5 = BIS["Blood Tiger Harness"],
    craftlwl6 = BIS["Primal Batskin"],
    craftlwl7 = BIS["Grifter's Armor"],
    craftlwl8 = BIS["Primalist's Trappings"],
    craftlwl9 = BIS["Dreamhide Battlegarb"],
    craftlw20 = BIS["Convergence of the Elements"],
    craftlwm1 = BIS["Green Dragon Mail"],
    craftlwm2 = BIS["Blue Dragon Mail"],
    craftlwm3 = BIS["Black Dragon Mail"],
    craftlwm4 = BIS["Red Dragon Mail"],
    -- Chests, boxes
    cb1 = L["Doan's Strongbox"],
    cb2 = L["Fengus's Chest"],
    cb3 = L["Felvine Shard"],
    cb4 = L["Unforged Rune Covered Breastplate"],
    cb5 = L["Malor's Strongbox"],
    cb6 = L["Gift of Adoration"],
    cb7 = L["Box of Chocolates"],
    cb8 = L["Treat Bag"],
    cb9 = L["Brightly Colored Egg"],
    cb10 = L["Small Rocket Recipes"],
    cb11 = L["Large Rocket Recipes"],
    cb12 = L["Cluster Rocket Recipes"],
    cb13 = L["Large Cluster Rocket Recipes"],
    cb14 = L["Warpwood Pod"],
    cb15 = L["Scarab Coffer"],
    cb16 = L["Greater Scarab Coffer"],
    cb17 = L["Chest of The Seven"],
    cb18 = L["Dark Coffer"],
    cb19 = L["Secret Safe"],
    --Other Sets
    oth_s1 = BIS["Defias Leather"],
    oth_s2 = BIS["Embrace of the Viper"],
    oth_s3 = BIS["Chain of the Scarlet Crusade"],
    oth_s4 = BIS["The Gladiator"],
    oth_s5 = BIS["Ironweave Battlesuit"],
    oth_s6 = BIS["Necropile Raiment"],
    oth_s7 = BIS["Cadaverous Garb"],
    oth_s8 = BIS["Bloodmail Regalia"],
    oth_s9 = BIS["Deathbone Guardian"],
    oth_s10 = BIS["The Postmaster"],
    oth_s11 = BIS["Regalia of Undead Cleansing"],
    oth_s12 = BIS["Undead Slayer's Armor"],
    oth_s13 = BIS["Garb of the Undead Slayer"],
    oth_s14 = BIS["Battlegear of Undead Slaying"],
    oth_s15 = BIS["Shard of the Gods"],
    oth_s16 = BIS["Major Mojo Infusion"],
    oth_s17 = BIS["Overlord's Resolution"],
    oth_s18 = BIS["Prayer of the Primal"],
    oth_s19 = BIS["Zanzil's Concentration"],
    oth_s20 = BIS["Spirit of Eskhandar"],
    oth_s21 = BIS["The Twin Blades of Hakkari"],
    oth_s22 = BIS["Primal Blessing"],
    oth_s23 = BIS["Dal'Rend's Arms"],
    oth_s24 = BIS["Spider's Kiss"],
    oth_s25 = BIS["Greymane Armor"],
    oth_s26 = BIS["Incendosaur Skin Armor"],
    --ZG Sets
    zgs1 = BIS["Haruspex's Garb"],
    zgs2 = BIS["Predator's Armor"],
    zgs3 = BIS["Illusionist's Attire"],
    zgs4 = BIS["Freethinker's Armor"],
    zgs5 = BIS["Confessor's Raiment"],
    zgs6 = BIS["Madcap's Outfit"],
    zgs7 = BIS["Augur's Regalia"],
    zgs8 = BIS["Demoniac's Threads"],
    zgs9 = BIS["Vindicator's Battlegear"],
    --AQ20 Sets
    aq20s1 = BIS["Symbols of Unending Life"],
    aq20s2 = BIS["Trappings of the Unseen Path"],
    aq20s3 = BIS["Trappings of Vaulted Secrets"],
    aq20s4 = BIS["Battlegear of Eternal Justice"],
    aq20s5 = BIS["Finery of Infinite Wisdom"],
    aq20s6 = BIS["Emblems of Veiled Shadows"],
    aq20s7 = BIS["Gift of the Gathering Storm"],
    aq20s8 = BIS["Implements of Unspoken Names"],
    aq20s9 = BIS["Battlegear of Unyielding Strength"],
    --AQ40 Sets
    aq40s1 = BIS["Genesis Raiment"],
    aq40s2 = BIS["Striker's Garb"],
    aq40s3 = BIS["Enigma Vestments"],
    aq40s4 = BIS["Avenger's Battlegear"],
    aq40s5 = BIS["Garments of the Oracle"],
    aq40s6 = BIS["Deathdealer's Embrace"],
    aq40s7 = BIS["Stormcaller's Garb"],
    aq40s8 = BIS["Doomcaller's Attire"],
    aq40s9 = BIS["Conqueror's Battlegear"],
    --T0 Sets
    t0s1 = BIS["Wildheart Raiment"],
    t0s2 = BIS["Beaststalker Armor"],
    t0s3 = BIS["Magister's Regalia"],
    t0s4 = BIS["Lightforge Armor"],
    t0s5 = BIS["Vestments of the Devout"],
    t0s6 = BIS["Shadowcraft Armor"],
    t0s7 = BIS["The Elements"],
    t0s8 = BIS["Dreadmist Raiment"],
    t0s9 = BIS["Battlegear of Valor"],
    --T0.5 Sets
    t05s1 = BIS["Feralheart Raiment"],
    t05s2 = BIS["Beastmaster Armor"],
    t05s3 = BIS["Sorcerer's Regalia"],
    t05s4 = BIS["Soulforge Armor"],
    t05s5 = BIS["Vestments of the Virtuous"],
    t05s6 = BIS["Darkmantle Armor"],
    t05s7 = BIS["The Five Thunders"],
    t05s8 = BIS["Deathmist Raiment"],
    t05s9 = BIS["Battlegear of Heroism"],
    --T1 Sets
    t1s1 = BIS["Cenarion Raiment"],
    t1s2 = BIS["Giantstalker Armor"],
    t1s3 = BIS["Arcanist Regalia"],
    t1s4 = BIS["Lawbringer Armor"],
    t1s5 = BIS["Vestments of Prophecy"],
    t1s6 = BIS["Nightslayer Armor"],
    t1s7 = BIS["The Earthfury"],
    t1s8 = BIS["Felheart Raiment"],
    t1s9 = BIS["Battlegear of Might"],
    --T2 Sets
    t2s1 = BIS["Stormrage Raiment"],
    t2s2 = BIS["Dragonstalker Armor"],
    t2s3 = BIS["Netherwind Regalia"],
    t2s4 = BIS["Judgement Armor"],
    t2s5 = BIS["Vestments of Transcendence"],
    t2s6 = BIS["Bloodfang Armor"],
    t2s7 = BIS["The Ten Storms"],
    t2s8 = BIS["Nemesis Raiment"],
    t2s9 = BIS["Battlegear of Wrath"],
    --T3 Sets
    t3s1 = BIS["Dreamwalker Raiment"],
    t3s2 = BIS["Cryptstalker Armor"],
    t3s3 = BIS["Frostfire Regalia"],
    t3s4 = BIS["Redemption Armor"],
    t3s5 = BIS["Vestments of Faith"],
    t3s6 = BIS["Bonescythe Armor"],
    t3s7 = BIS["The Earthshatterer"],
    t3s8 = BIS["Plagueheart Raiment"],
    t3s9 = BIS["Dreadnaught's Battlegear"],
    --BoN
    pob1 = L["Path of the Conqueror"],
    pob2 = L["Path of the Invoker"],
    pob3 = L["Path of the Protector"],
    --PvP Epic Horde Sets
    pvpeh1 = BIS["Warlord's Sanctuary"],
    pvpeh2 = BIS["Warlord's Pursuit"],
    pvpeh3 = BIS["Warlord's Regalia"],
    pvpeh4 = BIS["Warlord's Raiment"],
    pvpeh5 = BIS["Warlord's Vestments"],
    pvpeh6 = BIS["Warlord's Earthshaker"],
    pvpeh7 = BIS["Warlord's Threads"],
    pvpeh8 = BIS["Warlord's Battlegear"],
    --PvP Epic Alliance Sets
    pvpea1 = BIS["Field Marshal's Sanctuary"],
    pvpea2 = BIS["Field Marshal's Pursuit"],
    pvpea3 = BIS["Field Marshal's Regalia"],
    pvpea4 = BIS["Field Marshal's Aegis"],
    pvpea5 = BIS["Field Marshal's Raiment"],
    pvpea6 = BIS["Field Marshal's Vestments"],
    pvpea7 = BIS["Field Marshal's Threads"],
    pvpea8 = BIS["Field Marshal's Battlegear"],
    --PvP Rare Horde Sets
    pvprh1 = BIS["Champion's Refuge"],
    pvprh2 = BIS["Champion's Pursuance"],
    pvprh3 = BIS["Champion's Arcanum"],
    pvprh4 = BIS["Champion's Investiture"],
    pvprh5 = BIS["Champion's Guard"],
    pvprh6 = BIS["Champion's Stormcaller"],
    pvprh7 = BIS["Champion's Dreadgear"],
    pvprh8 = BIS["Champion's Battlearmor"],
    --PvP Rare Alliance Sets
    pvpra1 = BIS["Lieutenant Commander's Refuge"],
    pvpra2 = BIS["Lieutenant Commander's Pursuance"],
    pvpra3 = BIS["Lieutenant Commander's Arcanum"],
    pvpra4 = BIS["Lieutenant Commander's Redoubt"],
    pvpra5 = BIS["Lieutenant Commander's Investiture"],
    pvpra6 = BIS["Lieutenant Commander's Guard"],
    pvpra7 = BIS["Lieutenant Commander's Dreadgear"],
    pvpra8 = BIS["Lieutenant Commander's Battlearmor"],
    --Rogue
    rp1 = BS["Poisons"],
    rp2 = L["Reagent"],
    --Crafting
    sr = L["Skill:"],
    lr = L["Level:"],
    --Misc PvP Set Text
    pvps1 = L["Epic Set"],
    pvps2 = L["Rare Set"],
    --Dropped by names
    db1 = BB["Patchwerk"],
    db2 = BB["Grobbulus"],
    db3 = BB["Gluth"],
    db4 = BB["Thaddius"],
    db5 = BB["Anub'Rekhan"],
    db6 = BB["Grand Widow Faerlina"],
    db7 = BB["Maexxna"],
    db8 = BB["Noth the Plaguebringer"],
    db9 = BB["Heigan the Unclean"],
    db10 = BB["Loatheb"],
    db11 = BB["Instructor Razuvious"],
    db12 = BB["Gothik the Harvester"],
    db13 = BB["The Four Horsemen"],
    db14 = BB["Kel'Thuzad"],
    db15 = BB["Onyxia"],
    db16 = BB["Ragnaros"],
    db17 = BB["Razorgore the Untamed"],
    db18 = BB["Vaelastrasz the Corrupt"],
    db19 = BB["Broodlord Lashlayer"],
    db20 = BB["Firemaw"],
    db21 = BB["Ebonroc"],
    db22 = BB["Flamegor"],
    db23 = BB["Chromaggus"],
    db24 = BB["Nefarian"],
    db25 = BB["Lucifron"],
    db26 = BB["Magmadar"],
    db27 = BB["Gehennas"],
    db28 = BB["Garr"],
    db29 = BB["Baron Geddon"],
    db30 = BB["Shazzrah"],
    db31 = BB["Sulfuron Harbinger"],
    db32 = BB["Golemagg the Incinerator"],
    db33 = BB["Darkmaster Gandling"],
    db34 = BB["Baron Rivendare"],
    db35 = BB["General Drakkisath"],
    db36 = BB["Ras Frostwhisper"],
    db37 = BB["Doctor Theolen Krastinov"],
    db38 = BB["Hearthsinger Forresten"],
    db39 = BB["Solakar Flamewreath"],
    db40 = BB["Archivist Galford"],
    db41 = BB["Maleki the Pallid"],
    db42 = BB["Jandice Barov"],
    db43 = BB["Lorekeeper Polkelt"],
    db44 = BB["Baroness Anastari"],
    db45 = BB["Cannon Master Willey"],
    db46 = BB["Instructor Malicia"],
    db47 = BB["Shadow Hunter Vosh'gajin"],
    db48 = BB["Rattlegore"],
    db49 = BB["Gizrul the Slavener"],
    db50 = BB["Mother Smolderweb"],
    db51 = BB["The Unforgiven"],
    db52 = BB["The Ravenian"],
    db53 = BB["Overlord Wyrmthalak"],
    db54 = BB["War Master Voone"],
    db55 = BB["Nerub'enkan"],
    db56 = BB["Gyth"],
    db57 = BB["Pyroguard Emberseer"],
    db58 = BB["Highlord Omokk"],
    db59 = BB["Warchief Rend Blackhand"],
    db60 = BB["Ramstein the Gorger"],
    db61 = BB["Kirtonos the Herald"],
    db62 = BB["The Beast"],
    db63 = BB["Lord Alexei Barov"],
    db64 = BB["Timmy the Cruel"],
    db65 = BB["Balnazzar"],
    db66 = BB["Balzaphon"],
    db67 = BB["Lord Blackwood"],
    db68 = BB["Revanchion"],
    db69 = BB["Scorn"],
    db70 = BB["Sever"],
    db71 = BB["Lady Falther'ess"],
    --Zones abbreviations
    z1 = "MC",
    z2 = "Scholo",
    z3 = "Strat",
    z4 = "LBRS",
    z5 = "UBRS",
    --Currency Icons
    wsg = "Interface\\Icons\\INV_Misc_Rune_07",
    ab = "Interface\\Icons\\INV_Jewelry_Amulet_07",
    av = "Interface\\Icons\\INV_Jewelry_Necklace_21",
    darkmoon = "Interface\\Icons\\INV_Misc_Ticket_Darkmoon_01",
    ccombat = "Interface\\Icons\\INV_Jewelry_Talisman_06",
    ctactical = "Interface\\Icons\\INV_Jewelry_Amulet_02",
    clogistics = "Interface\\Icons\\INV_Jewelry_Necklace_16",
    cremulos = "Interface\\Icons\\INV_Jewelry_Necklace_14",
    ccenarius = "Interface\\Icons\\INV_Jewelry_Necklace_12",
    zandalar = "Interface\\Icons\\INV_Misc_Coin_08",
    --Ranks
    rank1 = L["Rank 1"],
    rank2 = L["Rank 2"],
    rank3 = L["Rank 3"],
    rank4 = L["Rank 4"],
    rank5 = L["Rank 5"],
    rank6 = L["Rank 6"],
    rank7 = L["Rank 7"],
    rank8 = L["Rank 8"],
    rank9 = L["Rank 9"],
    rank10 = L["Rank 10"],
    rank11 = L["Rank 11"],
    rank12 = L["Rank 12"],
    rank13 = L["Rank 13"],
    rank14 = L["Rank 14"],
    --Events
    ev1 = L["Feast of Winter Veil"],
    ev2 = L["Love is in the Air"],
    ev3 = L["Midsummer Fire Festival"],
    ev4 = L["Children's Week"],
    --Zones
    zone1 = BZ["Stratholme"],
    zone2 = BZ["Scholomance"],
    zone3 = BZ["Dire Maul (West)"],
    zone4 = BZ["Scarlet Monastery"],
    zone5 = BZ["Shadowfang Keep"],
    zone6 = BZ["Razorfen Downs"],
    zone7 = BZ["Un'Goro Crater"],
    zone8 = BZ["Winterspring"],
    zone9 = BZ["Azshara"],
    zone10 = BZ["Silithus"],
    lvl1 = L["Level One Lunatic Challenge"],

    -- Skill colors
    so1 = "|cffff7f3f", -- Orange (Skill)
    so2 = "|cffffff00", -- Yellow (Skill)
    so3 = "|cff3fbf3f", -- Green (Skill)
    so4 = "|cff7f7f7f", -- Gray (Skill)

    -- Text coloring
    q0 = "|cff9d9d9d", -- Gray (Poor)
    q1 = "|cffFFFFFF", -- White (Common)
    q2 = "|cff1eff00", -- Green (Uncommon)
    q3 = "|cff0070dd", -- Blue (Rare)
    q4 = "|cffa335ee", -- Purple (Epic)
    q5 = "|cffFF8000", -- Orange (Legendary)
    q6 = "|cffFF0000", -- Red (Artifact)
    q7 = "|cff03c0f6", -- Light Blue (Dropped by)
    q8 = "|cff2773ff", -- Blue (Alliance color, Alliance rank color)
    q9 = "|cffffffff", -- White (Priest color)
    q10 = "|cff68ccef", -- Light Blue (Mage color)
    q11 = "|cff9382c9", -- Purple (Warlock color)
    q12 = "|cfffff468", -- Yellow (Rogue color)
    q13 = "|cffff7c0a", -- Orange (Druid color)
    q14 = "|cffaad372", -- Green (Hunter color)
    q15 = "|cff2773ff", -- Blue (Shaman color)
    q16 = "|cfff48cba", -- Pink (Paladin color)
    q17 = "|cffc69b6d", -- Brown (Warrior color)
    q18 = "|cffff3100", -- Red (Horde rank color)
    q19 = "|cffe6cc80", -- Gold (Horde rank color)
    ec1 = "|cffFF8400", -- Orange (Enchant color)
    ds = "|cffFFd200", -- Gold/Yellow (Disenchant color)
}

function AtlasLoot_FixText(text)
    if not text then return "" end

    -- Replace tokens using the replacements table
    text = gsub(text, "#([%w_]+)#", function(key)
        return replacements[key] or ("#"..key.."#")
    end)

    -- Replace color codes using the replacements table
    text = gsub(text, "=([%w_]+)=", function(key)
        return replacements[key] or ("="..key.."=")
    end)

    return text
end